<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How It Works - NES Outage Status Checker</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>">
    <style>
        :root {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --text-muted: #666;
            --border-color: #3d3d5c;
            --accent: #667eea;
            --success: #2ed573;
            --danger: #ff6b6b;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            flex-wrap: wrap;
            gap: 12px;
        }

        h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1.4rem;
            margin: 0;
        }

        .header-links {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .header-link {
            color: #667eea;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .header-link:hover {
            text-decoration: underline;
        }

        .content {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 32px;
        }

        h2 {
            color: var(--text-primary);
            font-size: 1.3rem;
            margin-top: 0;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-color);
        }

        h3 {
            color: var(--accent);
            font-size: 1.1rem;
            margin-top: 28px;
            margin-bottom: 12px;
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .highlight {
            color: var(--text-primary);
            font-weight: 600;
        }

        .callout {
            background: rgba(102, 126, 234, 0.1);
            border-left: 4px solid var(--accent);
            padding: 16px 20px;
            border-radius: 0 8px 8px 0;
            margin: 24px 0;
        }

        .callout p {
            margin: 0;
            color: var(--text-primary);
        }

        .json-block {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.5;
            margin: 20px 0;
        }

        .json-key {
            color: #f8c555;
        }

        .json-string {
            color: #98c379;
        }

        .json-number {
            color: #e5c07b;
        }

        .json-highlight {
            background: rgba(255, 107, 107, 0.2);
            padding: 2px 4px;
            border-radius: 3px;
        }

        .status-example {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .status-box {
            flex: 1;
            min-width: 200px;
            padding: 16px;
            border-radius: 8px;
            text-align: center;
        }

        .status-box.unassigned {
            background: rgba(255, 107, 107, 0.15);
            border: 2px solid rgba(255, 107, 107, 0.4);
        }

        .status-box.assigned {
            background: rgba(46, 213, 115, 0.15);
            border: 2px solid rgba(46, 213, 115, 0.4);
        }

        .status-box .label {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .status-box .value {
            font-size: 1.1rem;
            font-weight: 700;
            font-family: monospace;
        }

        .status-box.unassigned .value {
            color: #ff6b6b;
        }

        .status-box.assigned .value {
            color: #2ed573;
        }

        .api-url {
            background: var(--bg-primary);
            padding: 12px 16px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 0.85rem;
            word-break: break-all;
            color: var(--accent);
            margin: 12px 0;
        }

        footer {
            margin-top: 32px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            text-align: center;
            font-size: 0.8rem;
            color: #555;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .built-with {
            margin-top: 8px;
            color: #444;
        }

        .new-domain-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 12px 20px;
            font-size: 0.9rem;
            position: relative;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .new-domain-banner a {
            color: white;
            font-weight: 700;
            text-decoration: underline;
        }

        .new-domain-banner .dismiss {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            line-height: 1;
            padding: 0;
        }

        .new-domain-banner .dismiss:hover {
            background: rgba(255,255,255,0.3);
        }

        .new-domain-banner .subtext {
            font-size: 0.8rem;
            opacity: 0.9;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="new-domain-banner" id="domainBanner">
        New home! This site is now available at <a href="https://nes-outage-checker.com">nes-outage-checker.com</a>
        <div class="subtext">Both URLs will always stay in sync - use whichever you prefer!</div>
        <button class="dismiss" onclick="dismissDomainBanner()" title="Dismiss">&times;</button>
    </div>

    <div class="container">
        <header>
            <h1>How It Works</h1>
            <div class="header-links">
                <a href="index.html" class="header-link">&larr; Back to Monitor</a>
                <a href="all.html" class="header-link">All Outages</a>
            </div>
        </header>

        <div class="content">
            <h2>Where Does This Data Come From?</h2>

            <p>
                <span class="highlight">All data displayed on this site comes directly from Nashville Electric Service (NES).</span>
                We don't add, modify, or interpret any of the information - we simply fetch it from NES's public API and display it in a more accessible format.
            </p>

            <div class="callout">
                <p>This tool is essentially a "viewer" for NES's own outage data. The Assigned/Unassigned status, affected customer counts, cause descriptions, and all other fields are provided by NES - not by us.</p>
            </div>

            <h3>The NES API</h3>

            <p>NES provides a public API endpoint that returns all active outage events as JSON data:</p>

            <div class="api-url">
                https://utilisocial.io/datacapable/v2/p/NES/map/events
            </div>

            <p>This is the same data source that powers NES's official outage map. We just fetch it and present it differently.</p>

            <h3>What Each Event Looks Like</h3>

            <p>Here's an example of what NES returns for a single outage event:</p>

            <div class="json-block">
<span class="json-key">{</span>
  <span class="json-key">"id"</span>: <span class="json-number">123456</span>,
  <span class="json-key">"title"</span>: <span class="json-string">"Outage"</span>,
  <span class="json-key"><span class="json-highlight">"status"</span></span>: <span class="json-string"><span class="json-highlight">"Unassigned"</span></span>,
  <span class="json-key">"numPeople"</span>: <span class="json-number">847</span>,
  <span class="json-key">"cause"</span>: <span class="json-string">"Under Investigation"</span>,
  <span class="json-key">"startTime"</span>: <span class="json-number">1706540400000</span>,
  <span class="json-key">"lastUpdatedTime"</span>: <span class="json-number">1706541300000</span>,
  <span class="json-key">"latitude"</span>: <span class="json-number">36.1627</span>,
  <span class="json-key">"longitude"</span>: <span class="json-number">-86.7816</span>
<span class="json-key">}</span>
            </div>

            <h3>The Status Field</h3>

            <p>The <code>status</code> field is provided directly by NES and typically has one of these values:</p>

            <div class="status-example">
                <div class="status-box unassigned">
                    <div class="label">NES returns:</div>
                    <div class="value">"Unassigned"</div>
                    <p style="margin-top: 12px; font-size: 0.85rem; color: var(--text-muted);">
                        No crew has been dispatched yet
                    </p>
                </div>
                <div class="status-box assigned">
                    <div class="label">NES returns:</div>
                    <div class="value">"Assigned"</div>
                    <p style="margin-top: 12px; font-size: 0.85rem; color: var(--text-muted);">
                        A crew is on the way or working on it
                    </p>
                </div>
            </div>

            <p>
                We display these exactly as NES provides them. When you see "UNASSIGNED" in red or "ASSIGNED" in green, that's coming straight from NES's system - we're just making it more visible.
            </p>

            <h3>Why Build This?</h3>

            <p>
                NES already has an outage map, but this tool provides some additional features:
            </p>

            <ul style="color: var(--text-secondary);">
                <li><strong style="color: var(--text-primary);">Monitor specific events</strong> - Track your outage by Event ID</li>
                <li><strong style="color: var(--text-primary);">Browser notifications</strong> - Get alerted when status changes</li>
                <li><strong style="color: var(--text-primary);">See all outages at once</strong> - Filter and sort by status, duration, or impact</li>
                <li><strong style="color: var(--text-primary);">Shareable links</strong> - Send someone a link to monitor the same events</li>
                <li><strong style="color: var(--text-primary);">Map visualization</strong> - See geographic distribution of assigned vs unassigned outages</li>
            </ul>

            <h3>Open Source</h3>

            <p>
                This project is completely open source. You can view all the code, see exactly how data is fetched and displayed, and even run your own copy:
            </p>

            <p style="margin-top: 16px;">
                <a href="https://github.com/NeckBeardPrince/nes-outage-status-checker" target="_blank" style="color: var(--accent);">
                    github.com/NeckBeardPrince/nes-outage-status-checker
                </a>
            </p>
        </div>

        <footer>
            <a href="https://github.com/NeckBeardPrince/nes-outage-status-checker" target="_blank">GitHub</a>
            &middot;
            <a href="https://github.com/NeckBeardPrince/nes-outage-status-checker/blob/main/CHANGELOG.md" target="_blank">Changelog</a>
            <div class="built-with">
                Built by <a href="https://iamadam.dev/" target="_blank" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-decoration: none; font-weight: 700;">Adam</a>
                <span style="margin: 0 6px; color: #666;">+</span>
                <span style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700;">Claude AI</span>
            </div>
        </footer>
    </div>

    <script>
        // Domain banner - only show on old GitHub Pages site
        function dismissDomainBanner() {
            document.getElementById('domainBanner').style.display = 'none';
            localStorage.setItem('nes-domain-banner-dismissed', 'true');
        }

        (function() {
            const isNewDomain = window.location.hostname === 'nes-outage-checker.com' ||
                               window.location.hostname === 'www.nes-outage-checker.com';
            const isDismissed = localStorage.getItem('nes-domain-banner-dismissed') === 'true';

            if (isNewDomain || isDismissed) {
                document.getElementById('domainBanner').style.display = 'none';
            }
        })();
    </script>
</body>
</html>
